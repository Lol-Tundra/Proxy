<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Web Proxy Browser</title>
<style>
body { margin:0; font-family:sans-serif; }
.browser-container { display:flex; flex-direction:column; height:100vh; }
.browser-header { display:flex; padding:8px; background:#eee; gap:4px; }
.address-bar { flex:1; padding:4px; }
.go-btn { padding:4px 8px; cursor:pointer; }
.iframe-container { flex:1; position:relative; }
.proxy-iframe { width:100%; height:100%; border:none; display:none; }
.home-screen { display:flex; flex-direction:column; align-items:center; justify-content:center; flex:1; color:#888; }
</style>
</head>
<body>
<div class="browser-container">
    <div class="browser-header">
        <input type="text" id="addressBar" class="address-bar" placeholder="Enter URL">
        <button id="goBtn" class="go-btn">Go</button>
    </div>
    <div class="iframe-container">
        <div class="home-screen" id="homeScreen">
            <div>üåê Enter a URL to get started</div>
        </div>
        <iframe class="proxy-iframe" id="proxyFrame"></iframe>
    </div>
</div>

<script>
const addressBar = document.getElementById('addressBar');
const goBtn = document.getElementById('goBtn');
const proxyFrame = document.getElementById('proxyFrame');
const homeScreen = document.getElementById('homeScreen');

function normalizeUrl(input) {
    input = input.trim();
    if (!input.includes('.') || input.includes(' ')) return input;
    if (!input.match(/^https?:\/\//)) input = 'https://' + input;
    return input;
}

function loadUrl(url) {
    url = normalizeUrl(url);
    proxyFrame.src = `/?url=${encodeURIComponent(url)}`;
    proxyFrame.style.display = 'block';
    homeScreen.style.display = 'none';
}

goBtn.addEventListener('click', () => {
    const url = addressBar.value;
    if (url) loadUrl(url);
});

addressBar.addEventListener('keypress', e => {
    if (e.key === 'Enter') {
        const url = addressBar.value;
        if (url) loadUrl(url);
    }
});
</script>
</body>
</html>
